<html>
<head>
<meta charset="UTF-8" />
<title>Basic Websocket</title>
<script>

  var serversocket = new WebSocket("ws://localhost:8006/", "echo-protocol");

  serversocket.onopen = function() {
    serversocket.send("Connection init");
  };

  serversocket.onmessage = function(e) {
    document.getElementById('comms').innerHTML += "Received: " + e.data + "<br>";
  };

  function senddata() {
     event.preventDefault();
     var data = document.getElementById('sendtext').value;
     serversocket.send(data);
     document.getElementById('comms').innerHTML += "Sent: " + data + "<br>";
  }

</script>

</head>
<body>
  <form onsubmit="senddata()">
    <input id="sendtext" type="text" />
    <input type="submit" id="sendBtn" value="send"></input>
  </form>
  <div id='comms'></div>

</body>
</html>
